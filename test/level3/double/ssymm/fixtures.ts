/* This is a conversion from BLAS to Typescript/Javascript
Copyright (C) 2018  Jacob K.F. Bogers  info@mail.jacob-bogers.com

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/

import { matrix_mxn } from '../../../matrices';

export const fixture = {
    ssymm: {
        //SSYMM(SIDE,UPLO,M,N,ALPHA,A,LDA,B,LDB,BETA,C,LDC)
        case0: {
            desc: '(trivial) n=0',
            input: {
                cmd: 'xdebug',
                side: 'l',
                uplo: 'u',
                m: 6,
                n: 0,
                lda: 6,
                ldb: 6,
                ldc: 6,
                beta: 0.2,
                alpha: 0.3,
                a: matrix_mxn(6, 6).real(),
                b: matrix_mxn(6, 6).real(),
                c: matrix_mxn(6, 6).real(),
            },
            expect: {
                c: matrix_mxn(6, 6).real().toArr(),
            },
        },
        case1: {
            desc: '(trivial m=0)',
            input: {
                cmd: 'xdebug',
                side: 'l',
                uplo: 'u',
                m: 0,
                n: 0,
                lda: 6,
                ldb: 6,
                ldc: 6,
                beta: 0.2,
                alpha: 0.3,
                a: matrix_mxn(6, 6).real(),
                b: matrix_mxn(6, 6).real(),
                c: matrix_mxn(6, 6).real(),
            },
            expect: {
                c: matrix_mxn(6, 6).real().toArr(),
            },
        },
        case3: {
            desc: '(trivial) alpha=0, beta=1',
            input: {
                cmd: 'xdebug',
                side: 'l',
                uplo: 'u',
                m: 6,
                n: 4,
                lda: 6,
                ldb: 6,
                ldc: 6,
                beta: 1,
                alpha: 0,
                a: matrix_mxn(6, 6).real(),
                b: matrix_mxn(6, 6).real(),
                c: matrix_mxn(6, 6).real(),
            },
            expect: {
                c: matrix_mxn(6, 6).real().toArr(),
            },
        },
        case4: {
            desc: '(near trivial), alpha=0, beta=0',
            input: {
                cmd: 'xdebug',
                side: 'l',
                uplo: 'u',
                m: 6,
                n: 4,
                lda: 6,
                ldb: 6,
                ldc: 6,
                beta: 0,
                alpha: 0,
                a: matrix_mxn(6, 6).real(),
                b: matrix_mxn(6, 6).real(),
                c: matrix_mxn(6, 6).real(),
            },
            expect: {
                c: (() => {
                    const m = matrix_mxn(6, 6).real();
                    for (let i = 1; i <= 4; i++) {
                        m.setCol(i, 1, 6, 0);
                    }
                    return m.toArr();
                })(),
            },
        },
        case5: {
            desc: '( near trivial) alpha=0 beta !=1 and beta != 0',
            input: {
                cmd: 'xdebug',
                side: 'l',
                uplo: 'u',
                m: 4,
                n: 6,
                lda: 6,
                ldb: 6,
                ldc: 6,
                beta: 0.2,
                alpha: 0,
                a: matrix_mxn(6, 6).real(),
                b: matrix_mxn(6, 6).real(),
                c: matrix_mxn(6, 6).real(),
            },
            expect: {
                c: [
                    0.25259085077927779,
                    -6.5246672410468332e-2,
                    0.26595986285745887,
                    0.25448587319978877,
                    0.41464143991470337,
                    -1.5399500131607056,
                    -0.18571341314484791,
                    -5.8944089098931673e-2,
                    -1.1534345508133551e-3,
                    0.48093066932157669,
                    0.76359343528747559,
                    -0.79900926351547241,
                    -0.22953141077654671,
                    -5.7892317442481467e-2,
                    -5.9843022522971356e-2,
                    -8.2302166257830933e-2,
                    0.25222346186637878,
                    -0.89192110300064087,
                    8.713666330481562e-2,
                    -0.24750769507151382,
                    -4.48535776861545e-2,
                    7.5479133061753689e-2,
                    0.13333636522293091,
                    0.80418950319290161,
                    -1.1421355030258817e-2,
                    0.10072159917237755,
                    0.21715388621619169,
                    -0.1381907722084339,
                    -1.2845993041992188,
                    4.6726170927286148e-2,
                    -4.7141311275084474e-2,
                    -0.10857765836384381,
                    -8.6662067274184018e-2,
                    -0.12989433005294693,
                    0.72675073146820068,
                    1.151911735534668,
                ],
            },
        },
        case6: {
            desc: 'side=l, uplo=u, beta=0.2, alpha=0.3',
            input: {
                cmd: 'xdebug',
                side: 'l',
                uplo: 'u',
                m: 4,
                n: 6,
                lda: 6,
                ldb: 6,
                ldc: 6,
                beta: 0.2,
                alpha: 0.3,
                a: matrix_mxn(6, 6).real(),
                b: matrix_mxn(6, 6).real(),
                c: matrix_mxn(6, 6).real(),
            },
            expect: {
                c: [
                    0.53045255937201419,
                    -0.9761055419604372,
                    -0.34552037224813309,
                    0.59527162008373635,
                    0.41464143991470337,
                    -1.5399500131607056,
                    -0.13914859611314478,
                    -0.66646951257570863,
                    0.18287433359087329,
                    0.74162042787135773,
                    0.76359343528747559,
                    -0.79900926351547241,
                    -0.53449519300966108,
                    0.46616525548773913,
                    0.41497390397842687,
                    -0.15130013972862894,
                    0.25222346186637878,
                    -0.89192110300064087,
                    0.72349462601443237,
                    -0.38009509799137947,
                    -9.2652148448032115e-2,
                    0.64969264004489258,
                    0.13333636522293091,
                    0.80418950319290161,
                    -0.63748687919285363,
                    0.23434080328254564,
                    0.1421070747715272,
                    -0.48390506072907413,
                    -1.2845993041992188,
                    4.6726170927286148e-2,
                    7.9083477454552742e-2,
                    0.28383508900112775,
                    0.12422720543919644,
                    -3.527865789126422e-3,
                    0.72675073146820068,
                    1.151911735534668,
                ],
            },
        },
        case7: {
            desc: 'side=l, uplo=u, beta=0, alpha=0.3',
            input: {
                cmd: 'xdebug',
                side: 'l',
                uplo: 'u',
                m: 4,
                n: 6,
                lda: 6,
                ldb: 6,
                ldc: 6,
                beta: 0,
                alpha: 0.3,
                a: matrix_mxn(6, 6).real(),
                b: matrix_mxn(6, 6).real(),
                c: matrix_mxn(6, 6).real(),
            },
            expect: {
                c: [
                    0.27786170859273651,
                    -0.91085886954996897,
                    -0.61148023510559191,
                    0.34078574688394758,
                    0.41464143991470337,
                    -1.5399500131607056,
                    4.6564817031703065e-2,
                    -0.60752542347677707,
                    0.18402776814168664,
                    0.26068975854978099,
                    0.76359343528747559,
                    -0.79900926351547241,
                    -0.30496378223311432,
                    0.52405757293022059,
                    0.47481692650139823,
                    -6.8997973470798002e-2,
                    0.25222346186637878,
                    -0.89192110300064087,
                    0.63635796270961664,
                    -0.13258740291986568,
                    -4.7798570761877608e-2,
                    0.57421350698313889,
                    0.13333636522293091,
                    0.80418950319290161,
                    -0.62606552416259487,
                    0.13361920411016809,
                    -7.5046811444664491e-2,
                    -0.34571428852064023,
                    -1.2845993041992188,
                    4.6726170927286148e-2,
                    0.12622478872963722,
                    0.39241274736497156,
                    0.21088927271338045,
                    0.12636646426382053,
                    0.72675073146820068,
                    1.151911735534668,
                ],
            },
        },
        case8: {
            desc: 'side=l, uplo=l, beta=0, alpha=0.3',
            input: {
                cmd: 'xdebug',
                side: 'l',
                uplo: 'l',
                m: 4,
                n: 6,
                lda: 6,
                ldb: 6,
                ldc: 6,
                beta: 0,
                alpha: 0.3,
                a: matrix_mxn(6, 6).real(),
                b: matrix_mxn(6, 6).real(),
                c: matrix_mxn(6, 6).real(),
            },
            expect: {
                c: [
                    1.526677323672093,
                    0.82086366225358753,
                    0.22795279043235117,
                    0.22665733443350428,
                    0.41464143991470337,
                    -1.5399500131607056,
                    0.59264768599118844,
                    1.8516542207052114,
                    -0.66627703139676198,
                    -0.29410725432126406,
                    0.76359343528747559,
                    -0.79900926351547241,
                    -0.6829562615363628,
                    -0.15843030315537335,
                    -0.37968400589953227,
                    -0.6565618433495608,
                    0.25222346186637878,
                    -0.89192110300064087,
                    0.34078574688394758,
                    0.33941778303287473,
                    0.14949312486725058,
                    -0.65602759753007456,
                    0.13333636522293091,
                    0.80418950319290161,
                    9.847454717877388e-2,
                    -0.53926793690564545,
                    -3.5816571237173092e-2,
                    0.12923083378467967,
                    -1.2845993041992188,
                    4.6726170927286148e-2,
                    -0.45696027866355104,
                    -0.39670787800307949,
                    2.598184025338994e-2,
                    -0.50165219918523396,
                    0.72675073146820068,
                    1.151911735534668,
                ],
            },
        },
        case9: {
            desc: 'side=l, uplo=l, beta=0.2, alpha=0.3',
            input: {
                cmd: 'xdebug',
                side: 'l',
                uplo: 'l',
                m: 4,
                n: 6,
                lda: 6,
                ldb: 6,
                ldc: 6,
                beta: 0.2,
                alpha: 0.3,
                a: matrix_mxn(6, 6).real(),
                b: matrix_mxn(6, 6).real(),
                c: matrix_mxn(6, 6).real(),
            },
            expect: {
                c: [
                    1.7792681744513708,
                    0.7556169898431192,
                    0.49391265328980999,
                    0.48114320763329299,
                    0.41464143991470337,
                    -1.5399500131607056,
                    0.40693427284634065,
                    1.7927101316062797,
                    -0.66743046594757538,
                    0.18682341500031258,
                    0.76359343528747559,
                    -0.79900926351547241,
                    -0.9124876723129095,
                    -0.21632262059785481,
                    -0.43952702842250363,
                    -0.73886400960739174,
                    0.25222346186637878,
                    -0.89192110300064087,
                    0.4279224101887632,
                    9.1910087961360895e-2,
                    0.10463954718109607,
                    -0.58054846446832087,
                    0.13333636522293091,
                    0.80418950319290161,
                    8.7053192148515063e-2,
                    -0.43854633773326795,
                    0.18133731497901859,
                    -8.9599384237542233e-3,
                    -1.2845993041992188,
                    4.6726170927286148e-2,
                    -0.50410158993863552,
                    -0.5052855363669233,
                    -6.0680227020794071e-2,
                    -0.63154652923818089,
                    0.72675073146820068,
                    1.151911735534668,
                ],
            },
        },
        case10: {
            desc: 'side=r, uplo=u, beta=0, alpha=0.3',
            input: {
                cmd: 'xdebug',
                side: 'r',
                uplo: 'u',
                m: 4,
                n: 6,
                lda: 6,
                ldb: 6,
                ldc: 6,
                beta: 0,
                alpha: 0.3,
                a: matrix_mxn(6, 6).real(),
                b: matrix_mxn(6, 6).real(),
                c: matrix_mxn(6, 6).real(),
            },
            expect: {
                c: [
                    1.2069137139176491,
                    -7.3835834769104269e-2,
                    0.59119403421791594,
                    6.1013807027786041e-2,
                    0.41464143991470337,
                    -1.5399500131607056,
                    -0.3020518110315033,
                    0.76602837643595145,
                    -2.6074634033833186e-2,
                    -0.67006228282670588,
                    0.76359343528747559,
                    -0.79900926351547241,
                    -0.26845140503002302,
                    0.48177209420755546,
                    -5.4015942047744431e-3,
                    -0.77600058244796255,
                    0.25222346186637878,
                    -0.89192110300064087,
                    0.69412082516238416,
                    -5.2473178741576046e-2,
                    3.0054385768848807e-2,
                    -0.38625839607415458,
                    0.13333636522293091,
                    0.80418950319290161,
                    -0.6554477014822917,
                    -0.18914368764400286,
                    -0.58753563253647978,
                    0.25390929255033634,
                    -1.2845993041992188,
                    4.6726170927286148e-2,
                    3.2320124684197968e-2,
                    0.2720119695655322,
                    7.6483687116582072e-2,
                    -0.8767377804286417,
                    0.72675073146820068,
                    1.151911735534668,
                ],
            },
        },
        case11: {
            desc: 'side=r, uplo=u, beta=0.2, alpha=0.3',
            input: {
                cmd: 'xdebug',
                side: 'r',
                uplo: 'u',
                m: 4,
                n: 6,
                lda: 6,
                ldb: 6,
                ldc: 6,
                beta: 1,
                alpha: 0.3,
                a: matrix_mxn(6, 6).real(),
                b: matrix_mxn(6, 6).real(),
                c: matrix_mxn(6, 6).real(),
            },
            expect: {
                c: [
                    2.4698679489945534,
                    -0.40006919196019014,
                    1.9209933286896568,
                    1.333443154066055,
                    0.41464143991470337,
                    -1.5399500131607056,
                    -1.2306188629190153,
                    0.47130793533296989,
                    -3.1841806701962391e-2,
                    1.7345910279490508,
                    0.76359343528747559,
                    -0.79900926351547241,
                    -1.4161084418113339,
                    0.19231051130846183,
                    -0.30461670236097865,
                    -1.1875114076051281,
                    0.25222346186637878,
                    -0.89192110300064087,
                    1.1298041351942749,
                    -1.2900116356583851,
                    -0.19421349932007176,
                    -8.8627363890197708e-3,
                    0.13333636522293091,
                    0.80418950319290161,
                    -0.71255447578262854,
                    0.31446430071354103,
                    0.49823378236525351,
                    -0.43704455819581839,
                    -1.2845993041992188,
                    4.6726170927286148e-2,
                    -0.20338642817892308,
                    -0.27087631416402108,
                    -0.35682664279751086,
                    -1.5262094210154946,
                    0.72675073146820068,
                    1.151911735534668,
                ],
            },
        },
        case12: {
            desc: 'side=r, uplo=u, beta=0.2, alpha=0.3',
            input: {
                cmd: 'xdebug',
                side: 'r',
                uplo: 'l',
                m: 4,
                n: 6,
                lda: 6,
                ldb: 6,
                ldc: 6,
                beta: 1,
                alpha: 0.3,
                a: matrix_mxn(6, 6).real(),
                b: matrix_mxn(6, 6).real(),
                c: matrix_mxn(6, 6).real(),
            },
            expect: {
                c: [
                    1.6426051899320373,
                    -0.69542496968745016,
                    1.9644724972155001,
                    1.7131834185435835,
                    0.41464143991470337,
                    -1.5399500131607056,
                    -0.61036864849532357,
                    -0.88349107729995568,
                    5.5918617771216025e-2,
                    2.3378719962510668,
                    0.76359343528747559,
                    -0.79900926351547241,
                    -0.53422698334080476,
                    -5.6967023782224679e-2,
                    0.48395079754499476,
                    0.20380064238818776,
                    0.25222346186637878,
                    -0.89192110300064087,
                    0.37978410864815848,
                    -1.7898895539087565,
                    0.22963484945810722,
                    2.5070282684360445,
                    0.13333636522293091,
                    0.80418950319290161,
                    -0.16342752448046038,
                    0.1224172009893528,
                    0.79374592826822621,
                    0.25931383076553666,
                    -1.2845993041992188,
                    4.6726170927286148e-2,
                    -0.26664938365290924,
                    -0.72318793972417317,
                    -1.1548389885797132,
                    -1.8466830909154144,
                    0.72675073146820068,
                    1.151911735534668,
                ],
            },
        },
    },
    ssymmErrors: {
        case0: {
            desc: 'side !="lr"',
            input: {
                cmd: 'xdebug',
                side: 'x',
                uplo: 'u',
                m: 6,
                n: 0,
                lda: 6,
                ldb: 6,
                ldc: 6,
                beta: 0.2,
                alpha: 0.3,
            },
        },
        case1: {
            desc: 'uplo!="ul"',
            input: {
                cmd: 'xdebug',
                side: 'l',
                uplo: 'x',
                m: 6,
                n: 0,
                lda: 6,
                ldb: 6,
                ldc: 6,
                beta: 0.2,
                alpha: 0.3,
            },
        },
        case2: {
            desc: 'm<0"',
            input: {
                cmd: 'xdebug',
                side: 'l',
                uplo: 'u',
                m: -3,
                n: 0,
                lda: 6,
                ldb: 6,
                ldc: 6,
                beta: 0.2,
                alpha: 0.3,
            },
        },
        case3: {
            desc: 'n<0',
            input: {
                cmd: 'xdebug',
                side: 'l',
                uplo: 'u',
                m: 6,
                n: -4,
                lda: 6,
                ldb: 6,
                ldc: 6,
                beta: 0.2,
                alpha: 0.3,
            },
        },
        case4: {
            desc: 'lda< max(1,nrowA)',
            input: {
                cmd: 'xdebug',
                side: 'l',
                uplo: 'u',
                m: 6,
                n: 4,
                lda: 5, //m or n
                ldb: 6,
                ldc: 6,
                beta: 0.2,
                alpha: 0.3,
            },
        },
        case6: {
            desc: 'ldb< max(1,nrowB)',
            input: {
                cmd: 'xdebug',
                side: 'l',
                uplo: 'u',
                m: 3,
                n: 4,
                lda: 6,
                ldb: 2, //<m
                ldc: 6, //<m
                beta: 0.2,
                alpha: 0.3,
            },
        },
        case7: {
            desc: 'ldc< max(1,nrowC)',
            input: {
                cmd: 'xdebug',
                side: 'l',
                uplo: 'u',
                m: 3,
                n: 4,
                lda: 6,
                ldb: 6,
                ldc: 2,
                beta: 0.2,
                alpha: 0.3,
            },
        },
    },
};
